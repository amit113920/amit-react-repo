{"ast":null,"code":"import axios from 'axios';\nimport { clearCacheData } from './clear_catche';\nexport const loginFetch = async props => {\n  axios.defaults.baseURL = 'http://localhost:8081';\n  axios.defaults.headers.common['host'] = 'localhost:8081';\n  axios.post(props.url, {\n    user_id: 'amit',\n    password: 'amit'\n  }).then(resp => {\n    window.sessionStorage.setItem('token', resp.data.data.token);\n    window.sessionStorage.setItem('user_id', resp.data.data.user_id);\n    alert(resp.data.data.token);\n  }).catch(error => {\n    alert(error.error);\n  });\n};\naxios.interceptors.request.use(function (config) {\n  const token = 'Bearer ' + window.sessionStorage.getItem('token');\n  const user_id = 'Bearer ' + window.sessionStorage.getItem('user_id');\n  config.headers.Authorization = token;\n  config.headers.Authorization = user_id;\n  return config;\n});\nexport const fetchData = async props => {\n  axios.defaults.baseURL = 'http://localhost:8081';\n  axios.defaults.headers.common['Authorization'] = 'Bearer ' + window.sessionStorage.getItem('token');\n  axios.defaults.headers.common['user_id'] = window.sessionStorage.getItem('user_id');\n  axios.defaults.headers.common['host'] = 'localhost:8081';\n  const token = window.sessionStorage.getItem('token');\n  const url = \"http://localhost:8081\" + props.url;\n  const user_id = window.sessionStorage.getItem('user_id');\n  alert('token: ' + token + ' , url : ' + url + ' user_id : ' + user_id);\n  axios.get(props.url).then(resp => {\n    window.sessionStorage.setItem('token', resp.data.token);\n    window.sessionStorage.setItem('user_id', 'user');\n    alert(resp.data.token);\n  }).catch(error => {\n    alert(error.error);\n  });\n};\nexport const fetchPost = async () => {\n  axios.post('/user', {\n    firstName: 'Fred',\n    lastName: 'Flintstone'\n  }).then(function (response) {\n    console.log(response);\n  }).catch(function (error) {\n    console.log(error);\n  });\n};","map":{"version":3,"names":["axios","clearCacheData","loginFetch","props","defaults","baseURL","headers","common","post","url","user_id","password","then","resp","window","sessionStorage","setItem","data","token","alert","catch","error","interceptors","request","use","config","getItem","Authorization","fetchData","get","fetchPost","firstName","lastName","response","console","log"],"sources":["/Users/amitkumar/Amit-PC/react-work-space/src/services/apicall.js"],"sourcesContent":["import axios from 'axios';\nimport { clearCacheData } from './clear_catche';\n\n\n\n\nexport const loginFetch=async(props)=>{\n  axios.defaults.baseURL = 'http://localhost:8081';\n  axios.defaults.headers.common['host']='localhost:8081'\n  axios.post(props.url,{user_id:'amit',password:'amit'})\n  .then(resp=>{\n    window.sessionStorage.setItem('token',resp.data.data.token);\n    window.sessionStorage.setItem('user_id',resp.data.data.user_id);\n    \n    alert(resp.data.data.token);\n  })\n  .catch(error=>{\n\n    alert(error.error);\n  });\n}\naxios.interceptors.request.use(function (config) {\n  const token = 'Bearer '+ window.sessionStorage.getItem('token');\n  const user_id = 'Bearer '+ window.sessionStorage.getItem('user_id');\n  config.headers.Authorization =  token;\n  config.headers.Authorization =  user_id;\n   \n  return config;\n});\n\nexport const fetchData = async (props) => { \n\n  \n\n\n  axios.defaults.baseURL = 'http://localhost:8081';\naxios.defaults.headers.common['Authorization'] ='Bearer '+ window.sessionStorage.getItem('token');\naxios.defaults.headers.common['user_id']=window.sessionStorage.getItem('user_id');\naxios.defaults.headers.common['host']='localhost:8081'\n    \n    const token=window.sessionStorage.getItem('token');\n    const url=\"http://localhost:8081\"+props.url;\n    const user_id=window.sessionStorage.getItem('user_id');\n    alert('token: '+token+' , url : '+url+' user_id : '+user_id);\n    axios.get(props.url)\n    .then(resp=>{\n      window.sessionStorage.setItem('token',resp.data.token);\n      window.sessionStorage.setItem('user_id','user');\n      alert(resp.data.token);\n    })\n    .catch(error=>{\n  \n      alert(error.error);\n    });\n\n};\n    export const fetchPost=async()=>{\n\n        axios.post('/user', {\n            firstName: 'Fred',\n            lastName: 'Flintstone'\n          })\n          .then(function (response) {\n            console.log(response);\n          })\n          .catch(function (error) {\n            console.log(error);\n          });\n    };\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}